<ons-page id="meal">

<script type="text/javascript">
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

var meals = JSON.parse(localStorage.getItem('mealinfo'));
console.log(meals);



// Draw the chart and set the chart values

function drawChart() {
  var meals = JSON.parse(localStorage.getItem('mealinfo'));
console.log(meals);
  mealData = [ ['time','kilojules']];
  for(let meal of meals){
    mealData.push([meal.date, parseInt(meal.kilojules)])
} 
console.log(mealData);
  var data = google.visualization.arrayToDataTable(
  /*[
  ['Time', 'Kilojules'],
  [day1,60],
  [day1,34],]*/
  mealData
  );

  // Optional; add a title and set the width and height of the chart
  var options = {title:'Daily Kilojule Intake',
      width:385,
      height:600,
      legend: 'none',};

  // Display the chart inside the <div> element with id="piechart"
  var chart = new google.visualization.LineChart(document.getElementById('chart'));
  chart.draw(data, options);
}

//alert(data);
</script>    
  <ons-toolbar>
    <div class="center">Report</div>
      <div class="left">
        <ons-back-button></ons-back-button>
      </div>
  </ons-toolbar>
  <div id="chart"></div>
  <div id="report"></div>
</ons-page>